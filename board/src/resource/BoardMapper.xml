<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="board.a03_dao.A01_BoardDao">
	<resultMap type="board" id="boardMap"></resultMap>
	<!-- public ArrayList<Board> boardList(Board sch); -->
	<select id="boardList" resultMap="boardMap" parameterType="board">
		select * from board 
		where subject like '%'||#{subject}||'%' 
		and writer LIKE '%'||#{writer}||'%' 
		order by no DESC
	</select>

	<!-- public void insertBoard(Board insert); -->
	<insert id="insertBoard" parameterType="board">
		INSERT INTO board values(board_seq.nextval,0,#{subject},#{content},#{writer},0,sysdate,sysdate)
	</insert>
	
	<!-- public void uploadFile(BoardFile ins); -->
							<!--  상위 boad의 번호와 첨부파일의 번호를 동일하게 -->
	<insert id="uploadFile" parameterType="boardfile">
		insert into boardfile values(board_seq.currval, #{fname},#{pathname},
						#{content},sysdate)
	</insert>
</mapper>






